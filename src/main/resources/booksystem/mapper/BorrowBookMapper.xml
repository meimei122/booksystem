<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="booksystem.dao.BorrowBookDao">
	<resultMap type = "BorrowBook" id = "BorrowBookResultMap">
		<id property = "bid" column = "bid" />
		<result property = "borrow_time"  column = "borrow_time" />
		<result property = "return_time"  column = "return_time" />
		<result property = "borrow_num" column = "borrow_num" />
		<result property = "sid" column = "sid" />
		<result property = "book_type" column = "book_type" />
	</resultMap>
	
	<select id="borrowInfo" resultMap="BorrowBookResultMap">
		select book_type,SUM(borrow_num) as borrow_num from borrwbook GROUP BY book_type
	</select>
	
	<select id="borrowBook" parameterType="BorrowBook" resultMap="BorrowBookResultMap">
		select * from borrwbook WHERE sid = #{sid}
	</select>

	<!-- <insert id="addBorrow" parameterType="BorrowBook" >
         into borrwbook (borrow_time,return_time,sid,book_isbn,borrow_num) values (#{borrow_time},#{return_time},#{sid},#{book_isbn},1)
    </insert > -->
	
</mapper>
